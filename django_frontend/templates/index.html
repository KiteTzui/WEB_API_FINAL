{% extends "base.html" %}
{% load static %}
{% block title %}Home — Staycation{% endblock %}

{% block content %}
<!-- Hero -->
<section class="hero-section position-relative">
  <img src="{% static "images/hero.jpg" %}" class="w-100 hero-img" alt="Hero" />
  <div class="hero-overlay d-flex flex-column justify-content-center align-items-center text-center px-3">
    <h1 class="display-5 text-white fw-bold">Welcome to Your Perfect<br/>Staycation</h1>
    <p class="lead text-white-50 mt-3">Discover comfort and luxury in the heart of the city</p>
    <a href="{% url "rooms" %}" class="btn btn-primary btn-lg mt-3">See Rooms</a>
  </div>
</section>

<!-- Featured Rooms -->
<section class="py-5 bg-light">
  <div class="container">
    <div class="text-center mb-4">
      <h2 class="mb-1">Featured Rooms</h2>
      <p class="text-muted small">Handpicked rooms for your perfect stay</p>
    </div>

    <div class="row g-4">
      {% for room in rooms %}
      <div class="col-sm-6 col-lg-4">
        <div class="card h-100 room-card shadow-sm">
          <div class="position-relative">
            <img src="{{ room.image_url }}" class="card-img-top room-img" alt="{{ room.title }}">
            {% if room.badge %}
            <span class="badge position-absolute top-0 end-0 m-3 bg-primary">{{ room.badge }}</span>
            {% endif %}
          </div>
          <div class="card-body d-flex flex-column">
            <h5 class="card-title">{{ room.title }}</h5>
            <p class="card-text text-muted small">{{ room.description }}</p>
            <div class="mt-auto d-flex justify-content-between align-items-center gap-2">
              <div class="text-primary fw-bold">${{ room.price }}<small class="text-muted">/night</small></div>
              <div class="d-flex gap-2">
                <a href="{% url 'room_details' room.id %}" class="btn btn-outline-primary btn-sm">View</a>
                <a href="{% url 'booking' %}?room={{ room.id }}" class="btn btn-primary btn-sm">Book</a>
              </div>
            </div>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
  </div>
</section>

<!-- Testimonials -->
<section class="py-5">
  <div class="container">
    <div class="text-center mb-4">
      <h3>What Our Guests Say</h3>
      <p class="text-muted small">Real experiences from real travelers</p>
    </div>

    <div class="row g-4">
      {% for t in testimonials %}
      <div class="col-md-4">
        <div class="card p-4 shadow-sm testimonial-card">
          <div class="mb-2 text-warning">★★★★★</div>
          <p class="small fst-italic">"{{ t.quote }}"</p>
          <div class="d-flex align-items-center mt-3">
            <div class="avatar me-3">{{ t.initials }}</div>
            <div>
              <div class="fw-bold small">{{ t.name }}</div>
              <div class="small text-muted">Stayed in {{ t.stayed }}</div>
            </div>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
  </div>
</section>
 
<!-- Products from FastAPI -->
{% if products %}
<section class="py-5 bg-white">
  <div class="container">
    <div class="text-center mb-4">
      <h2 class="mb-1">Products</h2>
      <p class="text-muted small">Items loaded from the FastAPI service</p>
    </div>

    <div class="row g-4">
      {% for p in products %}
      <div class="col-sm-6 col-lg-4">
        <div class="card h-100 shadow-sm">
          <div class="card-body d-flex flex-column">
            <h5 class="card-title">{{ p.name }}</h5>
            <p class="card-text text-muted small">{{ p.description }}</p>
            <div class="mt-auto d-flex justify-content-between align-items-center">
              <div class="text-primary fw-bold">${{ p.price }}</div>
            </div>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
  </div>
</section>
{% endif %}
{% endblock %}
